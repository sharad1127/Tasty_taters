{"ast":null,"code":"var _jsxFileName = \"/Users/musubimanagement/Desktop/tastytreats-main/frontend/src/containers/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Header from \"../components/common/Header\";\nimport Footer from \"../components/common/Footer\";\nimport Item from '../components/common/Item';\nimport Review from '../components/popup/Review';\nimport WriteReview from '../components/popup/WriteReview';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchItems } from \"../reducks/items/operations\";\nimport { getItems } from '../reducks/items/selectors';\nimport { getCarts, getSubtotal } from \"../reducks/carts/selectors\";\nimport { fetchFromLocalStorage } from '../reducks/carts/operations';\nimport queryString from \"query-string\";\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { push } from 'connected-react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const parsed = queryString.parse(window.location.search);\n  const [showWriteReview, setShowWriteReview] = useState(false);\n  const [showReview, setShowReview] = useState(false);\n  const [showCartList, setShowCartList] = useState(false);\n  const [selectedItemId, setSelectedItemId] = useState();\n  const dispatch = useDispatch();\n  const selector = useSelector(state => state);\n  const items = getItems(selector);\n  const carts = getCarts(selector);\n  const subtotal = getSubtotal(selector);\n  const [temp, setTemp] = useState('');\n\n  const all = () => {\n    dispatch(push('/'));\n    setTemp('sdfhgj');\n  };\n\n  const hot = () => {\n    dispatch(push('/?category=hot'));\n    setTemp('dfghj');\n  };\n\n  const cold = () => {\n    dispatch(push('/?category=cold'));\n    setTemp('dfghfgh');\n  };\n\n  const bagel = () => {\n    dispatch(push('/?category=bagel'));\n    setTemp('dfghjkk');\n  };\n\n  useEffect(() => {\n    dispatch(fetchFromLocalStorage());\n    dispatch(fetchItems(parsed.category));\n  }, [temp]);\n\n  const showItem = item => {\n    let selected_count = 0;\n\n    if (carts[item.id] && carts[item.id].selected_count) {\n      selected_count = carts[item.id].selected_count;\n    }\n\n    if (showCartList && carts[item.id] === undefined) {\n      // if the page is cart page and item is not slected, show nothing.\n      return;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Item, {\n        item: item,\n        selected_count: selected_count,\n        setShowWriteReview: setShowWriteReview,\n        setShowReview: setShowReview,\n        setSelectedItemId: selectedItemId\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu\",\n      children: [showCartList ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"title\",\n        children: \" Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title\",\n          children: \" Our Most Popular Recipes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Try Our Most Delicious foods and it usually takes minutes to deliver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: all,\n            className: \"btn btn-secondary\",\n            children: \" ALL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: hot,\n            className: \"btn btn-secondary\",\n            children: \"HOT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: cold,\n            className: \"btn btn-secondary\",\n            children: \"COLD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: bagel,\n            className: \"btn btn-secondary\",\n            children: \"BAGEL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [items && items.map(item => showItem(item)), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      price: subtotal,\n      showCartList: showCartList,\n      setShowCartList: setShowCartList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 10\n    }, this), showWriteReview && /*#__PURE__*/_jsxDEV(WriteReview, {\n      selectedItemId: selectedItemId,\n      setSelectedItemId: setSelectedItemId,\n      setShowWriteReview: setShowWriteReview\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"H2OELq2/P8bWLuzogYZVwYVAULc=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/musubimanagement/Desktop/tastytreats-main/frontend/src/containers/Home.jsx"],"names":["React","Header","Footer","Item","Review","WriteReview","useDispatch","useSelector","fetchItems","getItems","getCarts","getSubtotal","fetchFromLocalStorage","queryString","useEffect","useState","Link","push","Home","parsed","parse","window","location","search","showWriteReview","setShowWriteReview","showReview","setShowReview","showCartList","setShowCartList","selectedItemId","setSelectedItemId","dispatch","selector","state","items","carts","subtotal","temp","setTemp","all","hot","cold","bagel","category","showItem","item","selected_count","id","undefined","map"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Header from \"../components/common/Header\"\nimport Footer from \"../components/common/Footer\"\nimport Item from '../components/common/Item'\nimport Review from '../components/popup/Review'\nimport WriteReview from '../components/popup/WriteReview'\nimport { useDispatch,useSelector } from 'react-redux'\nimport {fetchItems} from \"../reducks/items/operations\"\nimport { getItems } from '../reducks/items/selectors'\nimport { getCarts,getSubtotal} from \"../reducks/carts/selectors\"\nimport { fetchFromLocalStorage } from '../reducks/carts/operations'\nimport queryString from \"query-string\"\nimport { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom';\nimport {push} from 'connected-react-router'\nconst Home = () => {\n    const parsed = queryString.parse(window.location.search);\n    const [showWriteReview, setShowWriteReview] = useState(false);\n    const [showReview, setShowReview] = useState(false);\n    const [showCartList, setShowCartList] = useState(false);\n    const [selectedItemId, setSelectedItemId] = useState();\n    const dispatch = useDispatch();\n    const selector = useSelector(state => state);\n    const items = getItems(selector);\n    const carts = getCarts(selector);\n    const subtotal = getSubtotal(selector);\n    const [temp,  setTemp]=useState('')\n    const all =() => {\n        dispatch(push('/'))\n        setTemp('sdfhgj')\n    }\n    const hot =() => {\n        dispatch(push('/?category=hot'))\n        setTemp('dfghj')\n    }\n    const cold =() => {\n        dispatch(push('/?category=cold'))\n        setTemp('dfghfgh')\n    }\n    const bagel =() => {\n        dispatch(push('/?category=bagel'))\n        setTemp('dfghjkk')\n    }\n\n    useEffect(() => {\n        dispatch(fetchFromLocalStorage());\n        dispatch(fetchItems(parsed.category));\n    }, [temp]);\n\n    const showItem = item => {\n        let selected_count = 0;\n        if (carts[item.id] && carts[item.id].selected_count) {\n            selected_count = carts[item.id].selected_count;\n        }\n        if (showCartList && carts[item.id] === undefined) {\n            // if the page is cart page and item is not slected, show nothing.\n            return;\n        }\n        return (\n            <div>\n                <Item\n                    key={item.id}\n                    item={item}\n                    selected_count={selected_count}\n                    setShowWriteReview={setShowWriteReview}\n                    setShowReview={setShowReview}\n                    setSelectedItemId={selectedItemId}\n                />\n            </div>\n        );\n    };\n  return (\n    <div>\n        <Header/>\n    <div className=\"menu\">\n        {showCartList?(\n            <h2 className=\"title\"> Cart</h2>\n        ):(\n\n            <>\n                    <h2 className=\"title\"> Our Most Popular Recipes</h2>\n                    <p>Try Our Most Delicious foods and it usually takes minutes to deliver\n                    </p>\n\n                    <div className=\"btn\">\n\n\n                        <a onClick={all}  className=\"btn btn-secondary\" > ALL</a>\n                        <a onClick={hot} className=\"btn btn-secondary\">HOT</a>\n                        <a onClick={cold} className=\"btn btn-secondary\">COLD</a>\n                        <a onClick={bagel} className=\"btn btn-secondary\">BAGEL</a>\n                    </div>\n            \n                \n            </>    \n        )} \n        <div className=\"container\">{items && items.map(item=>showItem(item))} </div>\n      </div> \n         <Footer price={subtotal} showCartList={showCartList} setShowCartList={setShowCartList} />\n         {showWriteReview && (\n             <WriteReview\n                selectedItemId={selectedItemId} \n                setSelectedItemId={setSelectedItemId}\n                setShowWriteReview={setShowWriteReview}\n             />\n\n        )} \n    </div>\n  );\n};\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}